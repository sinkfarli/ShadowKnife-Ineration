# PID控制算法
Author & Note ：影风远sinkfarli

Create Date ：2022.6.7

## PID简介
PID即：Proportional（比例）、Integral（积分）、Differential（微分）的缩写。

PID控制算法是结合比例、积分和微分三种环节于一体的控制算法，它是连续系统中技术最为成熟、应用最为广泛的一种控制算法。

PID控制的实质就是根据输入的偏差值，按照比例、积分、微分的函数关系进行运算，运算结果用以控制输出。

## PID控制算法方程
<img src="./photo/18.png">

式中相关符号：
- Kp——比例增益，Kp与比例度成倒数关系； 
- Tt——积分时间常数； 
- TD——微分时间常数；  
- u（t）——PID控制器的输出信号； 
- e（t）——给定值r（t）与测量值之差。  

## PID算法的控制架构
<img src="./photo/19.png">

上图为PID算法的控制架构，它主要分为三个部分，并且这三个部分都是简单的相加就决定了u(t)。

### 比例控制算法（P）
成比例地反映控制系统的偏差信号，偏差一旦产生，立即产生控制作用以减小偏差。比例控制器的输出u(t)与输入偏差e(t)成正比，能迅速反映偏差，从而减小偏差，但不能消除静差。

静差是指系统控制过程趋于稳定时，给定值与输出量的实测值之差。偏差存在，才能使控制器维持一定的控制量输出，因此比例控制器必然存在着静差。由偏差理论知，增大疋虽然可以减小偏差，但不能彻底消除偏差。

比例控制作用的大小除与偏差e(t)有关之外，还取决于比例系数Kp的大小。比例系数Kp越小，控制作用越小，系统响应越慢；反之，比例系数Kp越大，控制作用也越强，则系统响应越快。但是，Kp过大会使系统产生较大的超调和振荡，导致系统的稳定性能变差。因此，不能将Kp选取过大，应根据被控对象的特性来折中选取Kp，使系统的静差控制在允许的范围内，同时又具有较快的响应速度。

### 积分控制算法（I）
积分环节的作用，主要用于消除静差提高系统的无差度。

积分作用的强弱，取决于积分时间常数Ti，Ti越大积分作用越弱，反之则越强。

积分控制作用的存在与偏差e(t)的存在时间有关，只要系统存在着偏差，积分环节就会不断起作用，对输入偏差进行积分，使控制器的输出及执行器的开度不断变化，产生控制作用以减小偏差。

在积分时间足够的情况下，可以完全消除静差，这时积分控制作用将维持不变。

Ti越小，积分速度越快，积分作用越强。积分作用太强会使系统超调加大，甚至使系统出现振荡。

### 微分控制算法（D）
微分环节的作用能反映偏差信号的变化趋势（变化速率），并能在偏差信号的值变得太大之前，在系统中引入一个有效的早期修正信号，从而加快系统的动作速度，减小调节时间。

积分控制作用的引入虽然可以消除静差，但是降低了系统的响应速度，特别是对于具有较大惯性的被控对象，用PI控制器很难得到很好的动态调节品质，系统会产生较大的超调和振荡，这时可以引入微分作用。在偏差刚出现或变化的瞬间，不仅根据偏差量作出及时反应（即比例控制作用），还可以根据偏差量的变化趋势（速度）提前给出较大的控制作用（即微分控制作用），将偏差消灭在萌芽状态，这样可以大大减小系统的动态偏差和调节时间，使系统的动态调节品质得以改善。

微分环节有助于系统减小超调，克服振荡，加快系统的响应速度，减小调节时间，从而改善了系统的动态性能，但微分时间常数过大，会使系统出现不稳定。

微分控制作用一个很大的缺陷是容易引入高频噪声，所以在干扰信号比较严重的流量控制系统中不宜引入微分控制作用。

微分控制作用的阶跃响应特性对于一个恒定的偏差量，不管其数值有多大，微分控制作用均为零。因此，微分作用不能消除静差，单独使用意义不大，一般需要与比例、积分控制作用配合使用，构成PD或PID控制。

对于PID控制，在控制偏差输入为阶跃信号时，立即产生比例和微分控制中作用。由于在偏差输入的瞬时，变化率非常大，微分控制作用很强，此后微分控制作用迅速衰减，但积分作用越来越大，直至最终消除静差。

