# 矢量控制--FOC
Author & Note ：影风远sinkfarli

Create Date ：2022.5.29

## 简介
矢量控制（vector control）也称为磁场导向控制（field-oriented control，简称FOC），是一种利用变频器（VFD）控制三相交流电机的技术，利用调整变频器的输出频率、输出电压的大小及角度，来控制电机的输出。其特性是可以分别控制电机的磁场及转矩，类似他激式直流电机的特性。由于处理时会将三相输出电流及电压以矢量来表示，因此称为矢量控制。

矢量控制实现的基本原理是通过测量和控制异步电动机定子电流矢量，根据磁场定向原理分别对异步电动机的励磁电流和转矩电流进行控制，从而达到控制异步电动机转矩的目的。

## 技术简介
利用矢量控制，可以用类似控制他激直流电机的方式控制交流感应电机及同步电机。在他激直流电机中，磁场电流及电枢电流可独立控制，在矢量控制，控制磁场及电枢的电流互相垂直，理论上不会互相影响，因此当控制转矩时，不会影响产生磁场的磁链，因此可以有快速的转矩响应。

矢量控制会依照程式中计算的电流矢量，产生三相PWM的电压提供给电机，目的是要控制电机的三相电流。其中会将电流及电压等物理量在二个系统之间转换，一个是随速度及时间改变的三相系统，另一个则是二轴非线变的旋转坐标系统。

## 控制方式
采用矢量控制方式的通用变频器不仅可在调速范围上与直流电动机相匹配，而且可以控制异步电动机产生的转矩。由于矢量控制方式所依据的是准确的被控异步电动机的参数，有的通用变频器在使用时需要准确地输入异步电动机的参数，有的通用变频器需要使用速度传感器和编码器。鉴于电机参数有可能发生变化，会影响变频器对电机的控制性能，并根据辨识结果调整控制算法中的有关参数，从而对普通的异步电动机进行有效的矢量控制。

## 控制制的特点
- 需要量测（或是估测）电机的速度或位置，若估测电机的速度，需要电机电阻及电感等参数，若可能要配合多种不同的电机使用，需要自动调适（autotuning）程序来量测电机参数。
- 借由调整控制的目标值，转矩及磁通可以快速变化，一般可以在5-10毫秒内完成。
- 若使用PI控制，步阶响应会有过冲。
- 功率晶体的切换频率（载波）一般为定值。
- 转矩的精确度和控制系统中使用的电机参数有关，因此若因为电机温度变化．造成转子电阻阻值提高．会造成误差的变大。
- 对处理器效能的要求较高，至少每一毫秒需执行一次电机控制的算法。

